{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/Eco_friendly%20_website/frontend/src/app/OrderStatus/page.jsx"],"sourcesContent":["'use client'\r\nimport React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function MyOrders() {\r\n  const [orders, setOrders] = useState([]);\r\n  const [user, setUser] = useState(null);\r\n  const [token, setToken] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem(\"user\");\r\n    const storedToken = localStorage.getItem(\"token\");\r\n    if (storedUser) setUser(JSON.parse(storedUser));\r\n    if (storedToken) setToken(storedToken);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!user || !token) return;\r\n\r\n    axios\r\n      .get(`http://localhost:5000/order/getbyuser/${user._id}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n      .then((res) => setOrders(res.data))\r\n      .catch((err) => console.error(err));\r\n  }, [user, token]);\r\n\r\n  // Step order for tracking\r\n  const steps = [\"Pending\", \"Paid\", \"Shipped\", \"Delivered\"];\r\n\r\n  const getStepIndex = (status) => {\r\n    switch (status) {\r\n      case \"Pending\": return 0;\r\n      case \"Paid\": return 1;\r\n      case \"Shipped\": return 2;\r\n      case \"Delivered\": return 3;\r\n      case \"Cancelled\": return -1; // special case\r\n      default: return 0;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 px-6 py-12\">\r\n      <h1 className=\"text-4xl font-extrabold mb-12 text-gray-800 text-center tracking-tight\">\r\n        My Orders\r\n      </h1>\r\n\r\n      {orders.length === 0 ? (\r\n        <p className=\"text-center text-gray-500 text-lg\">No orders yet.</p>\r\n      ) : (\r\n        <div className=\"space-y-10 max-w-5xl mx-auto\">\r\n          {orders.map((order) => {\r\n            const stepIndex = getStepIndex(order.status);\r\n\r\n            return (\r\n              <div\r\n                key={order._id}\r\n                className=\"bg-white/80 backdrop-blur-lg rounded-3xl shadow-lg p-8 \r\n                           hover:shadow-2xl hover:scale-[1.02] transition-all duration-300 border border-gray-200\"\r\n              >\r\n                {/* Order Header */}\r\n                <div className=\"flex justify-between items-center mb-6\">\r\n                  <h2 className=\"font-bold text-xl text-gray-800\">\r\n                    Order <span className=\"text-blue-600\">#{order._id.slice(-6)}</span>\r\n                  </h2>\r\n                  <span\r\n                    className={`px-4 py-1 rounded-full text-sm font-semibold shadow-sm ${\r\n                      order.status === \"Cancelled\"\r\n                        ? \"bg-red-100 text-red-800\"\r\n                        : \"bg-blue-100 text-blue-800\"\r\n                    }`}\r\n                  >\r\n                    {order.status}\r\n                  </span>\r\n                </div>\r\n\r\n                {/* Order Details */}\r\n                <div className=\"text-gray-700 space-y-2 mb-6\">\r\n                  <p className=\"text-lg\">\r\n                    <span className=\"font-semibold\">Total Amount:</span> ₹{order.totalAmount}\r\n                  </p>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    {new Date(order.createdAt).toLocaleDateString()} •{\" \"}\r\n                    {new Date(order.createdAt).toLocaleTimeString([], {\r\n                      hour: \"2-digit\",\r\n                      minute: \"2-digit\",\r\n                    })}\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Order Tracking */}\r\n                {order.status !== \"Cancelled\" && (\r\n                  <div className=\"mb-8\">\r\n                    <div className=\"flex justify-between items-center relative\">\r\n                      {steps.map((step, i) => (\r\n                        <div key={i} className=\"flex-1 flex flex-col items-center\">\r\n                          <div\r\n                            className={`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm\r\n                              ${\r\n                                i <= stepIndex\r\n                                  ? \"bg-blue-600 text-white\"\r\n                                  : \"bg-gray-300 text-gray-600\"\r\n                              }`}\r\n                          >\r\n                            {i + 1}\r\n                          </div>\r\n                          <p\r\n                            className={`mt-2 text-xs font-medium ${\r\n                              i <= stepIndex ? \"text-blue-600\" : \"text-gray-500\"\r\n                            }`}\r\n                          >\r\n                            {step}\r\n                          </p>\r\n                          {i < steps.length - 1 && (\r\n                            <div\r\n                              className={`absolute top-4 left-[12%] w-[76%] h-1 \r\n                                ${i < stepIndex ? \"bg-blue-600\" : \"bg-gray-300\"}`}\r\n                            ></div>\r\n                          )}\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {order.status === \"Cancelled\" && (\r\n                  <p className=\"text-red-600 font-semibold text-center mb-8\">\r\n                    ❌ This order was cancelled\r\n                  </p>\r\n                )}\r\n\r\n                {/* Items List */}\r\n                {order.items && order.items.length > 0 && (\r\n                  <div>\r\n                    <h3 className=\"font-semibold text-gray-800 mb-3 text-sm uppercase tracking-wide\">\r\n                      Items in this order\r\n                    </h3>\r\n                    <ul className=\"space-y-3\">\r\n                      {order.items.map((item, idx) => (\r\n                        <li\r\n                          key={idx}\r\n                          className=\"flex justify-between items-center bg-gray-50 px-4 py-3 \r\n                                     rounded-xl shadow-sm border border-gray-100 text-sm hover:bg-gray-100 transition-colors\"\r\n                        >\r\n                          {/* Product Info */}\r\n                          <div className=\"flex items-center gap-4\">\r\n                            {/* Product Image */}\r\n                            {item.productId?.image && (\r\n                              <img\r\n                                src={item.productId.image}\r\n                                alt={item.productId?.name || \"Product\"}\r\n                                className=\"w-16 h-16 rounded-lg object-cover border\"\r\n                              />\r\n                            )}\r\n                            <div>\r\n                              <p className=\"font-medium text-gray-700\">\r\n                                {item.productId?.name || \"Product\"}\r\n                              </p>\r\n                              <p className=\"text-gray-500 text-sm\">\r\n                                Price: ₹{item.productId?.price || 0}\r\n                              </p>\r\n                            </div>\r\n                          </div>\r\n\r\n                          {/* Quantity & Subtotal */}\r\n                          <div className=\"text-right\">\r\n                            <p className=\"text-gray-600 font-medium\">Qty: {item.quantity}</p>\r\n                            <p className=\"text-gray-800 font-semibold\">\r\n                              Subtotal: ₹{(item.productId?.price || 0) * item.quantity}\r\n                            </p>\r\n                          </div>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}