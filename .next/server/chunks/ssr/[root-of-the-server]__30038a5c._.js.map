{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/Eco_friendly%20_website/frontend/src/app/profile/page.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nconst Profile = () => {\r\n  const user = typeof window !== \"undefined\" ? JSON.parse(localStorage.getItem(\"user\")) : null;\r\n  const [userData, setUserData] = useState(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [formData, setFormData] = useState({ name: \"\", email: \"\", city: \"\" });\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n    axios\r\n      .get(`http://localhost:5000/user/profile`, {\r\n        headers: { Authorization: `Bearer ${user?.token}` },\r\n      })\r\n      .then((res) => {\r\n        setUserData(res.data);\r\n        setFormData({\r\n          name: res.data.name || \"\",\r\n          email: res.data.email || \"\",\r\n          city: res.data.city || \"\",\r\n        });\r\n      })\r\n      .catch(() => {\r\n        toast.error(\"Failed to fetch profile\");\r\n      });\r\n  }, []);\r\n\r\n  const handleChange = (e) => setFormData({ ...formData, [e.target.name]: e.target.value });\r\n\r\n  const handleUpdate = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.put(`http://localhost:5000/user/update/${userData._id}`, formData);\r\n      setUserData({ ...userData, ...formData });\r\n      setIsEditing(false);\r\n      toast.success(\"Profile updated successfully!\");\r\n    } catch {\r\n      toast.error(\"Failed to update profile\");\r\n    }\r\n  };\r\n\r\n  if (!userData) return <div className=\"text-center py-20 text-gray-400\">Loading profile...</div>;\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-900 px-4 py-12\">\r\n      <div className=\"relative w-full max-w-md bg-gray-800/90 backdrop-blur-xl p-10 rounded-2xl shadow-xl border border-gray-700 overflow-hidden\">\r\n        {/* Floating Circle Decoration */}\r\n        <div className=\"absolute -top-10 -right-10 w-40 h-40 bg-blue-600 rounded-full opacity-20 blur-3xl\" />\r\n\r\n        {/* Heading */}\r\n        <h1 className=\"text-4xl font-extrabold mb-2 text-center text-blue-400\">My Profile</h1>\r\n        <p className=\"text-gray-400 text-sm text-center mb-6\">\r\n          {isEditing ? \"Edit your details below\" : \"View your account information\"}\r\n        </p>\r\n\r\n        {/* Profile Form */}\r\n        <form onSubmit={handleUpdate} className=\"flex flex-col gap-5\">\r\n          {[\"name\", \"email\", \"city\"].map((field) => (\r\n            <div key={field}>\r\n              <label htmlFor={field} className=\"block mb-2 text-sm text-gray-300 capitalize\">\r\n                {field}\r\n              </label>\r\n              {isEditing ? (\r\n                <input\r\n                  type={field === \"email\" ? \"email\" : \"text\"}\r\n                  name={field}\r\n                  value={formData[field]}\r\n                  onChange={handleChange}\r\n                  className=\"w-full p-3 rounded-lg bg-gray-700 border border-gray-600 focus:border-blue-500 focus:ring focus:ring-blue-500/30 outline-none\"\r\n                  placeholder={`Enter your ${field}`}\r\n                />\r\n              ) : (\r\n                <p className=\"text-gray-200 p-3 bg-gray-700 rounded-lg border border-gray-600\">{userData[field]}</p>\r\n              )}\r\n            </div>\r\n          ))}\r\n\r\n          {/* Buttons */}\r\n          <div className=\"flex justify-between mt-4\">\r\n            {isEditing ? (\r\n              <>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setIsEditing(false)}\r\n                  className=\"px-5 py-3 rounded-lg bg-gray-700 border border-gray-600 text-gray-200 hover:bg-gray-600 transition\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"px-5 py-3 rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition shadow-md\"\r\n                >\r\n                  Save Changes\r\n                </button>\r\n              </>\r\n            ) : (\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setIsEditing(true)}\r\n                className=\"w-full px-5 py-3 rounded-lg bg-blue-600 hover:bg-blue-700 text-white transition shadow-md\"\r\n              >\r\n                Edit Profile\r\n              </button>\r\n            )}\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAHA;;;;;AAKA,MAAM,UAAU;IACd,MAAM,OAAO,sCAAgC,0BAA2C;IACxF,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;QAAE,MAAM;QAAI,OAAO;QAAI,MAAM;IAAG;IAEzE,IAAA,kNAAS,EAAC;QACR,wCAAW;;;IAgBb,GAAG,EAAE;IAEL,MAAM,eAAe,CAAC,IAAM,YAAY;YAAE,GAAG,QAAQ;YAAE,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK;QAAC;IAEvF,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI;YACF,MAAM,gJAAK,CAAC,GAAG,CAAC,CAAC,kCAAkC,EAAE,SAAS,GAAG,EAAE,EAAE;YACrE,YAAY;gBAAE,GAAG,QAAQ;gBAAE,GAAG,QAAQ;YAAC;YACvC,aAAa;YACb,gKAAK,CAAC,OAAO,CAAC;QAChB,EAAE,OAAM;YACN,gKAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,IAAI,CAAC,UAAU,qBAAO,8OAAC;QAAI,WAAU;kBAAkC;;;;;;IAEvE,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBAAI,WAAU;;;;;;8BAGf,8OAAC;oBAAG,WAAU;8BAAyD;;;;;;8BACvE,8OAAC;oBAAE,WAAU;8BACV,YAAY,4BAA4B;;;;;;8BAI3C,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;wBACrC;4BAAC;4BAAQ;4BAAS;yBAAO,CAAC,GAAG,CAAC,CAAC,sBAC9B,8OAAC;;kDACC,8OAAC;wCAAM,SAAS;wCAAO,WAAU;kDAC9B;;;;;;oCAEF,0BACC,8OAAC;wCACC,MAAM,UAAU,UAAU,UAAU;wCACpC,MAAM;wCACN,OAAO,QAAQ,CAAC,MAAM;wCACtB,UAAU;wCACV,WAAU;wCACV,aAAa,CAAC,WAAW,EAAE,OAAO;;;;;iGAGpC,8OAAC;wCAAE,WAAU;kDAAmE,QAAQ,CAAC,MAAM;;;;;;;+BAdzF;;;;;sCAoBZ,8OAAC;4BAAI,WAAU;sCACZ,0BACC;;kDACE,8OAAC;wCACC,MAAK;wCACL,SAAS,IAAM,aAAa;wCAC5B,WAAU;kDACX;;;;;;kDAGD,8OAAC;wCACC,MAAK;wCACL,WAAU;kDACX;;;;;;;6DAKH,8OAAC;gCACC,MAAK;gCACL,SAAS,IAAM,aAAa;gCAC5B,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf;uCAEe","debugId":null}}]
}