{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Desktop/Eco_friendly%20_website/frontend/src/app/addProductForm/page.jsx"],"sourcesContent":["\r\n'use client'\r\nimport * as Yup from 'yup';\r\nimport React from 'react'\r\nimport { useFormik } from 'formik';\r\nimport axios from 'axios';\r\nimport toast from 'react-hot-toast';\r\n\r\nconst AddProduct = () => {\r\n    //validation schema using yup\r\n    const AddProductSchema = Yup.object().shape({\r\n        name: Yup.string().min(2, 'Too Short!').max(50, 'Too Long!').required('Required'),\r\n        price: Yup.number().min(0, 'Price must be positive').required('Required'),\r\n        description: Yup.string().min(10, 'Too Short!').max(500, 'Too Long!').required('Required'),\r\n        brand: Yup.string().min(2, 'Too Short!').max(50, 'Too Long!').required('Required'),\r\n        image: Yup.mixed().required('Required')\r\n\r\n    })\r\n\r\n\r\n\r\n    const AddProductForm = useFormik({\r\n        initialValues: {\r\n            name: '',\r\n            price: '',\r\n            description: '',\r\n            brand: '',\r\n            image: ''\r\n        },\r\n\r\n        onSubmit: (values, { resetForm }) => {\r\n            console.log(values);\r\n            axios.post('http://localhost:5000/product/add', values)\r\n                .then((result) => {\r\n\r\n                    toast.success(\"Product added successfully\");\r\n                    resetForm();\r\n\r\n                }).catch((err) => {\r\n                    toast.error(\"Something went wrong\");\r\n                    console.log(err);\r\n\r\n                });\r\n        },\r\n        validationSchema: AddProductSchema\r\n    })\r\n\r\n    console.log(AddProductForm.errors);\r\n\r\n    const uploadFile = (e) => {\r\n        const file = e.target.files[0];\r\n        console.log(file);\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n        formData.append('cloud_name', \"dn1wpxm8j\");\r\n        formData.append('upload_preset', \"Bhoomi\");\r\n\r\n        axios.post(\"https://api.cloudinary.com/v1_1/dn1wpxm8j/image/upload\", formData)\r\n            .then((result) => {\r\n                console.log(result.data);\r\n                toast.success(\"Image Uploaded Successfully\");\r\n                AddProductForm.setFieldValue('image', result.data.url);\r\n\r\n            }).catch((err) => {\r\n                console.log(err);\r\n                toast.error(\"Failed to upload image\");\r\n\r\n\r\n            });\r\n\r\n    }\r\n    return (\r\n        <div className='min-h-screen flex items-center justify-center bg-gray-100'>\r\n            {/* form product page */}\r\n            <form\r\n                className=\"bg-white p-8 rounded shadow-md w-full max-w-md\"\r\n                onSubmit={AddProductForm.handleSubmit}\r\n            >\r\n                <h2 className=\"text-2xl font-bold mb-6 text-gray-800\">Add Product</h2>\r\n                {/* name */}\r\n                <label htmlFor=\"name\" className=\"block mb-2 font-semibold text-gray-700\">\r\n                    Name\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"name\"\r\n                    value={AddProductForm.values.name}\r\n                    onChange={AddProductForm.handleChange}\r\n                    name=\"name\"\r\n                    required=\"\"\r\n                    className=\"w-full mb-4 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"Product name\"\r\n                />\r\n                {/* price */}\r\n                <label htmlFor=\"price\" className=\"block mb-2 font-semibold text-gray-700\">\r\n                    Price\r\n                </label>\r\n                <input\r\n                    // type='number'\r\n                    id='price'\r\n\r\n                    value={AddProductForm.values.price}\r\n                    onChange={AddProductForm.handleChange}\r\n\r\n\r\n                    className=\"w-full mb-4 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n\r\n                />\r\n                {/* description */}\r\n                <label\r\n                    htmlFor=\"description\"\r\n                    className=\"block mb-2 font-semibold text-gray-700\"\r\n                >\r\n                    Description\r\n                </label>\r\n                <textarea\r\n                    id=\"description\"\r\n                    name=\"description\"\r\n\r\n                    value={AddProductForm.values.description}\r\n                    onChange={AddProductForm.handleChange}\r\n                    rows={4}\r\n                    className=\"w-full mb-4 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"Product description\"\r\n\r\n                />\r\n                {/* brand */}\r\n                <label htmlFor=\"brand\" className=\"block mb-2 font-semibold text-gray-700\">\r\n                    Brand\r\n                </label>\r\n                <input\r\n                    type=\"text\"\r\n                    id=\"brand\"\r\n                    name=\"brand\"\r\n                    value={AddProductForm.values.brand}\r\n                    onChange={AddProductForm.handleChange}\r\n\r\n                    className=\"w-full mb-4 px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                    placeholder=\"Brand name\"\r\n                />\r\n                {/* image */}\r\n                <label htmlFor=\"images\" className=\"block mb-2 font-semibold text-gray-700  \">\r\n                    Upload Images\r\n                </label>\r\n                <input\r\n                    type=\"file\"\r\n\r\n                    onChange={uploadFile}\r\n\r\n\r\n                    accept=\"image/*\"\r\n                    className=\"w-full mb-6 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                />\r\n                {/* button */}\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"w-full bg-blue-600 text-white font-semibold py-2 rounded hover:bg-blue-700 transition\"\r\n                    accept=\"image/*\"\r\n                >\r\n                    Add Product\r\n                </button>\r\n            </form>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddProduct\r\n"],"names":[],"mappings":"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","debugId":null}}]
}